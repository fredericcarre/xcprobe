# Scenario C: Batch job with no ports
services:
  host-sim:
    build:
      context: ./host-sim
      dockerfile: Dockerfile
    hostname: test-host-c
    environment:
      BATCH_INPUT_DIR: /data/input
      BATCH_OUTPUT_DIR: /data/output
      DATABASE_URL: "postgresql://app:secret123@db:5432/appdb"
    healthcheck:
      test: ["CMD", "pgrep", "-f", "batch.py"]
      interval: 5s
      timeout: 3s
      retries: 5
